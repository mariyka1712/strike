.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "TASK\-COMPRESS" "7" "January 2013" "" ""
.
.SH "NAME"
\fBtask\-compress\fR \- compress task(s) for bake(1)
.
.SH "SYNOPSIS"
Compression task(s) for bake(1)\.
.
.SH "DESCRIPTION"
Deflate and inflate file(s) using gzip(1) and gunzip(1)\. This task is used to compress regular files, if you wish to compress directories use task\-archive(7)\. The primary difference between gzip(1) and task\-compress(7) is that source files or compressed files are maintained on disc by default\. This is useful for web applications that wish to inspect an \fIAccept\-Encoding\fR header and serve the appropriate file\.
.
.SH "REQUIRE"
In your tasks(7) file \fBrequire\fR the \fBcompress\fR task(s) using:
.
.IP "" 4
.
.nf

require \'tasks/compress\';
.
.fi
.
.IP "" 0
.
.SH "USAGE"
.
.nf

bake compress \-c [options\.\.\.] [files\.\.\.]
bake compress \-x [options\.\.\.] [files\.\.\.]
.
.fi
.
.SH "COMMANDS"
.
.TP
\fB\-c | create\fR:
.
.IP
Deflate file(s)\. This command creates a file with the same name as the source file appended with a \fBgz\fR file extension\. By default the original file is maintained, if you wish to delete the file(s) use the \fB\-\-delete\fR option\.
.
.TP
\fB\-x | extract\fR:
.
.IP
Inflate compressed file(s)\.
.
.SH "OPTIONS"
.
.TP
\fB\-o | \-\-output\fR:
.
.IP
An existing writable directory to place files in\. When use in conjunction with the \fBcreate\fR command then the deflated files will be placed in this directory\. When used in conjunction with the \fBextract\fR command then the inflated files will be placed in this directory\. By default when this option is used the output is a flat structure, which means that if multiple files with the same name exist in the list of files being processed then the last one processed will overwrite any previously created file\.
.
.TP
\fB\-d | \-\-delete\fR:
.
.IP
The default behaviour is to keep the source files, specify this flag if you wish to delete the source files\. This mimics the default behaviour of gzip(1) and gunzip(1) whereby source files are deleted when deflating and compressed files are deleted when inflating\.
.
.TP
\fB\-r | \-\-recursive\fR:
.
.IP
Recurse into sub\-directories\. When this option is not specified and a directory is passed as a file then the contents of that directory are included in the list of files used for compression or extraction, but no sub\-directories will be searched\. Specify this option if you also wish to search sub\-directories for files to compress\.
.
.TP
\fB\-i | \-\-include\fR:
.
.IP
Pattern(s) that a file name must match to be included\. Must be a valid extended regular expression, see ere(7)\. Repeatable\. An exit code of 2 is used if a pattern is invalid\.
.
.TP
\fB\-e | \-\-exclude\fR:
.
.IP
Pattern(s) that when matched against a file name will cause it to be excluded\. Must be a valid extended regular expression, see ere(7)\. Repeatable\. If include and exclude pattern(s) are specified that both match a file name the file will be excluded\. An exit code of 2 is used if a pattern is invalid\.
.
.TP
\fB\-v | \-\-verbose\fR:
.
.IP
Output more information\. When used in conjunction with the \fBcreate\fR and \fBextract\fR commands then this option will also include compression ratio information\. When specified in conjunction with the \fB\-\-noop\fR option the file size will be output after the file path\.
.
.TP
\fB\-\-noop\fR:
.
.IP
Do not perform any action, print information about the source and/or compressed files\. The \fB\-\-debug\fR option has no effect when this option is specified\.
.
.TP
\fB\-\-debug\fR:
.
.IP
Print the commands being executed\.
.
.SH "EXIT CODES"
.
.nf

A >0 exit code indicates failure while a 0 exit code indicates success\.

If any file is encountered that is not a regular file (determined using
the \-f file test flag) then the exit code is >0\.

Exit code 2 is used when an invalid pattern is specified using either
the \-\-include or \-\-exclude option\.
.
.fi
.
.SH "BUGS"
\fBtask\-compress\fR is written in bash and depends upon \fBbash\fR >= 4\.2\.
.
.SH "COPYRIGHT"
\fBtask\-compress\fR is copyright (c) 2012 muji \fIhttp://xpm\.io\fR
.
.SH "SEE ALSO"
bake(1)
