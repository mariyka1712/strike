require 'tasks/todo';
require 'tasks/project';

require 'tasks/ext/build/rake';
require 'tasks/ext/build/ant';
require 'tasks/ext/npm';

# exclude these tasks from the default test runner
# this test is used to force failure
test.suite.exclude! "task-test";
# this test is slow and should be run manually
test.suite.exclude! "jsonlint";

function tasks.json.checker.compile {
	executable.validate gcc;
	local exename="jsoncheck";
	"${executables[gcc]}" lib/json-checker/*.c lib/json-checker/*.h -o "target/$exename" \
		|| quit 1 "could not compile json-checker source";
}