{
	"notifications": {
		"mail": {
			"to": "muji <freeformsystems@gmail.com>"
		}
	},
	"env": {
		"archive": {
			"name": "${project_name}-${project_version}.tgz",
			"dir": "$target",
			"path": "${target}/${project_name}-${project_version}.tgz"
		}
	},
	"host": "cyberfunk@jet.freeformsystems.com",
	"directory": "~/www",
	"commands": {
		"local": {
			"pre": [
				{
		          "command": "echo",
		          "options": [ "$json_commands_local_pre_0_command", "$json_directory", "$json_host", "$json_commands_local_pre_0_options_length" ]
		        },
				{
					"command": "echo",
					"options": [ "$json_directory" ]
				},			
				{
					"command": "ls",
					"options": [ "$target" ]
				}
			],
			"post": [
				{
					"command": "console.info",
					"options": [ "deployment complete %s", "$deploy_name" ]
				}
			]
		}
	},
	"profiles": {
		"test":{ "type": "git" },
		"stage":{ "type": "git" },
		"empty": {},
		"npm-scp-tar": {
			"description": "deploy using npm(1)+scp(1)+tar(1)",
			"type": "tar",
			"url": "~/$project_name-$project_version.tgz",
			"commands": {
				"local": {
					"pre": [
						{
							"command": "npm",
							"options": [ "pack" ]
						},
						{
							"command": "mv",
							"options": [ "$env_archive_name", "$env_archive_dir" ]
						},
						{
							"command": "scp",
							"options": [ "$env_archive_path", "${host}:~/" ]
						}
					]
				}
			}
		},
		"npm": {
			"description": "deploy latest public release using the npm(1) package system",
			"type": "npm",
			"package": "${project_name}"
		},
		"development":{
			"type": "git",
			"local": true,
			"commands": {
				"local": {
					"pre": [
						{
							"command": "echo",
							"options": [ "hi" ]
						}
					]
				}
			}
		},
		"production":{ "type": "git" }
	}
}
