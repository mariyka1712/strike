# TODO: move to global variables?
declare -gx process_strict="";

# TODO: add the process.use "debug"
# to force console.error to always throw
# a stack trace

function process.use {
	local val="${1:-}";
	if [ "$val" == "strict" ]; then
		process_strict="on";
		set -o errtrace;
		set -o errexit;
		set -o nounset;
	fi
}

# TODO: add PID file support
# print the process id
function process.pid {
	echo -ne "$$";
}

# TODO: add lock file support for singleton processes