# TODO: move to global variables?
declare -gx process_strict="";

# TODO: add the process.use "debug"
# to force console.error to always throw
# a stack trace

function process.use {
	local val="${1:-}";
	if [ "$val" == "strict" ]; then
		process_strict="on";
		set -o errtrace;
		set -o errexit;
		set -o nounset;
	fi
}

function process.pid {
	echo -ne "$$";
}