#!/usr/bin/env bash

while IFS= read -r -d '' -u 9
do
    if [[ "$(file -bs --mime-type -- "$REPLY")" = text/* ]]; then
        #sed -i -e 's/[ \t]\+\(\r\?\)$/\1/' -- "$REPLY"
        echo "replace in $REPLY"
    else
        echo "Skipping $REPLY" >&2
    fi
done 9< <(find . -type f -print0)
