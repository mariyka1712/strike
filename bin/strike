#!/usr/bin/env bash

: <<'ronn:markdown'
strike(1) -- require(3) for bash
=============================================

## SYNOPSIS

Utility program for inspecting information about the system and bash installation.

## DESCRIPTION

The strike(1) program also provides debugging commands and the ability to switch the installed bash version.

## COMMANDS

The strike(1) supports the following commands:

* `info`:
	Print system information.
	
* `pkg`:
	Print npm(1) package information.
	
* `module.dirs`:
	Print a module search path directories.	
	
* `module.list`:
	Print a module list.
	
* `method.list`:
	Print method names.
	
* `dirs`:
	Print program directories.
	
* `lib.dirs`:
	Print library directories.

## BUGS

**strike** is written in bash and depends upon `bash` >= 4.2 for associative arrays.

## COPYRIGHT

**strike** is copyright (c) 2012 muji <http://xpm.io>

## SEE ALSO

bake(1)
ronn:markdown

. ~/.strike/boilerplate.sh;
boilerplate "$@";

# configure help
require 'help';
help.man.page "default" "strike.1";
help.parse "$@";

require 'tasks/ext/npm';

strike.info() {
  echo "$FUNCNAME"
	system.print;
}

strike.dirs() {
	system.dirs;
}

strike.lib.dirs() {
	system.lib.dirs;
}

strike.module.list() {
	require.list;
}

strike.module.dirs() {
	require.dirs;
}

strike.method.list() {
	method.list;
}

strike.pkg() {
	tasks.npm.package.print;
}

strike() {
  local cmd="$1"; shift;
  delegate "$FUNCNAME" "$cmd" "$@";
}

echo "calling strike..."
strike "$@";
